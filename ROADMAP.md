# ListenTogether 竞品调研与发展路线图

> 调研时间：2026-02-20
> 调研范围：Spotify、Apple Music、网易云音乐、QQ音乐、Discord、SyncLounge/Syncplay、JQBX/Turntable.fm

---

## 1. 竞品功能对比表

| 功能维度 | Spotify | Apple Music | 网易云音乐 | QQ音乐 | Discord | SyncLounge | Turntable.fm | **ListenTogether** |
|---------|---------|-------------|-----------|--------|---------|------------|-------------|-------------------|
| **同步听歌** | ✅ Jam（实时同步+共享队列） | ✅ SharePlay（FaceTime集成） | ✅ 一起听（好友配对） | ✅ 一起听歌（好友配对） | 🔶 Listen Along（仅跟随，需Premium） | ✅ 房间制同步（Plex） | ✅ 房间制DJ轮播 | ✅ 房间制WebSocket同步 |
| **同步精度** | 🔶 中等（无公开数据） | 🔶 中等 | 🔶 中等 | 🔶 中等 | 🔶 低（各自播放） | 🔶 中等（可配置容差） | 🔶 中等 | ✅ <30ms（NTP-like时钟同步） |
| **房间/群组** | ✅ Jam房间（邀请制） | ✅ FaceTime群组 | ✅ 一起听房间 | ✅ 一起听房间 | ✅ 语音频道 | ✅ 房间制 | ✅ 房间制（5DJ位） | ✅ 房间制（房主控制） |
| **实时聊天** | ❌ | ❌（依赖FaceTime） | ✅ 弹幕+评论 | ✅ 弹幕+聊天 | ✅ 语音+文字 | ✅ 文字聊天 | ✅ 文字聊天 | ❌ |
| **表情反应** | ❌ | ❌ | ✅ 评论点赞 | ✅ 送礼物/表情 | ✅ emoji反应 | ❌ | ✅ awesome/lame投票 | ❌ |
| **歌词显示** | ✅ 逐行同步 | ✅ 逐行同步+Apple Music Sing（逐字） | ✅ 逐行+翻译+用户贡献 | ✅ 逐行+逐字+翻译+K歌 | ❌ | ❌ | ❌ | 🔶 LRC逐行滚动 |
| **逐字歌词** | ❌ | ✅ Apple Music Sing | ✅ | ✅ | ❌ | ❌ | ❌ | ❌ |
| **歌词翻译** | ❌ | ❌ | ✅ | ✅ | ❌ | ❌ | ❌ | ❌ |
| **协作歌单** | ✅ Collaborative Playlist | ❌ | ❌ | ❌ | ❌ | ❌ | ❌ | ❌ |
| **投票点歌** | ❌ | ❌ | ❌ | ❌ | ❌ | ❌ | ✅ awesome/lame | ❌ |
| **队列管理** | ✅ Jam共享队列 | 🔶 个人队列 | 🔶 个人队列 | 🔶 个人队列 | ❌ | ❌ | ✅ DJ轮播队列 | ✅ 播放列表管理 |
| **无损音质** | ✅ Lossless/Hi-Res | ✅ ALAC无损+Hi-Res | ✅ FLAC无损 | ✅ SQ无损 | ❌（依赖源平台） | ❌（依赖Plex） | ❌ | 🔶 多品质转码（128k AAC） |
| **空间音频** | ❌ | ✅ Dolby Atmos | ✅ 全景声 | ✅ 臻品全景声 | ❌ | ❌ | ❌ | ❌ |
| **均衡器** | ✅ | ✅ | ✅ | ✅ | ❌ | ❌ | ❌ | ❌ |
| **主题/皮肤** | 🔶 深色/浅色 | 🔶 跟随系统 | ✅ 丰富主题+个性皮肤 | ✅ 丰富主题+VIP皮肤 | ✅ 主题色 | ❌ | 🔶 头像系统 | 🔶 两种播放器样式+布局编辑器 |
| **可视化效果** | 🔶 Canvas（艺术家提供） | ❌ | 🔶 黑胶唱片动画 | 🔶 MV/动效 | ❌ | ❌ | ✅ 虚拟DJ房间 | 🔶 唱片机动画 |
| **推荐算法** | ✅ 顶级（Discover Weekly等） | ✅ 优秀（For You） | ✅ 优秀（每日推荐+私人FM） | ✅ 优秀（猜你喜欢） | ❌ | ❌ | ❌ | ❌ |
| **电台/排行榜** | ✅ | ✅ Apple Music 1 | ✅ 私人FM+排行榜 | ✅ 电台+排行榜 | ❌ | ❌ | ❌ | ❌ |
| **跨设备** | ✅ Connect（手机/桌面/Web/车载/智能音箱） | ✅ AirPlay（全Apple生态+Android/Web） | ✅ 手机/桌面/Web/车载 | ✅ 手机/桌面/Web | 🔶 桌面/手机/Web | ✅ Web+多Plex客户端 | 🔶 Web+手机App | 🔶 Web（响应式） |
| **离线播放** | ✅ | ✅ | ✅ | ✅ | ❌ | ❌ | ❌ | ❌ |
| **开源** | ❌ | ❌ | ❌ | ❌ | ❌ | ✅ MIT | ❌（已关闭） | ✅ |
| **自托管** | ❌ | ❌ | ❌ | ❌ | ❌ | ✅ Docker | ❌ | ✅ |
| **无版权限制** | ❌（DRM） | ❌（DRM） | ❌（版权受限） | ❌（版权受限） | ❌ | 🔶（依赖Plex库） | ❌（DMCA） | ✅ 用户自有音频 |

---

## 2. ListenTogether 的差异化优势

### 核心护城河

1. **同步精度领先** — NTP-like 时钟同步 + 三级漂移纠正，<30ms 精度远超所有竞品。商业平台的"一起听"更多是"差不多同时播放"，我们是真正的精确同步。

2. **完全自主可控** — 开源 + 自托管，用户拥有数据主权。不依赖任何第三方服务，不受平台政策变化影响。

3. **无版权限制** — 用户上传自有音频，不受 DRM 和地区版权限制。这是所有商业平台无法提供的——网易云和 QQ 音乐的曲库因版权问题经常下架歌曲。

4. **技术透明** — 同步协议完全开源可审计，社区可贡献改进。SyncLounge 虽然也开源，但它是视频同步方案，音乐同步的精度需求完全不同。

5. **零成本部署** — 单二进制 + ffmpeg，无需复杂基础设施。对比 Spotify 需要 Premium 才能用 Jam，我们完全免费。

6. **可定制性** — 布局编辑器 + 多播放器样式，用户可以按需定制界面。商业平台的 UI 是固定的。

### 相比开源竞品的优势

- vs SyncLounge：SyncLounge 专注 Plex 视频同步，不支持音乐；我们专注音乐场景，同步精度更高
- vs Syncplay：Syncplay 是桌面应用，需要本地播放器；我们是纯 Web 方案，零安装
- vs Turntable.fm（已关闭）：我们的房间制 + DJ 模式可以复刻其核心体验，且不受版权限制

---

## 3. 功能差距分析

### P0 — 核心体验缺失（必须尽快补齐）

| 功能 | 缺失影响 | 实现难度 | 收益 |
|------|---------|---------|------|
| **实时聊天** | 同步听歌没有交流渠道，社交体验断裂 | 低（WebSocket已有，加消息类型即可） | 极高 |
| **表情反应** | 无法表达对当前歌曲的态度 | 低（聊天基础上加emoji） | 高 |
| **API安全漏洞修复** | 路径遍历、暴力破解等严重安全风险 | 中（TODO.md已列出具体方案） | 极高 |
| **更高音质选项** | 128k AAC 对音质敏感用户不够 | 中（转码管线已有，加 320k/FLAC 选项） | 高 |

### P1 — 竞争力提升（中期目标）

| 功能 | 价值 | 实现难度 | 收益 |
|------|------|---------|------|
| **共享队列/协作点歌** | 所有人都能往队列加歌，不只是房主 | 中 | 高 |
| **投票点歌** | Turntable.fm 的核心玩法，社交性极强 | 中 | 高 |
| **逐字歌词** | 网易云/QQ音乐的标配体验 | 中（需要解析增强LRC/QRC格式） | 中 |
| **歌词翻译** | 听外语歌的刚需 | 低（UI层面加翻译行） | 中 |
| **均衡器** | Web Audio API 原生支持 BiquadFilter | 中 | 中 |
| **PWA + 移动端优化** | 当前响应式不够，需要原生体验 | 中 | 高 |
| **房间发现/公开房间列表** | 陌生人社交，扩大用户基础 | 低 | 高 |
| **用户头像/个人主页** | 基础社交身份 | 低 | 中 |

### P2 — 锦上添花（长期愿景）

| 功能 | 价值 | 实现难度 | 收益 |
|------|------|---------|------|
| **音频可视化** | Web Audio API AnalyserNode，炫酷但非刚需 | 中 | 低 |
| **DJ 轮播模式** | 复刻 Turntable.fm 体验 | 高 | 中 |
| **跨设备播放（类 Spotify Connect）** | 手机控制桌面播放 | 高 | 中 |
| **离线缓存** | Service Worker + IndexedDB | 高 | 低（同步场景需在线） |
| **推荐系统** | 基于房间历史的简单推荐 | 高 | 低（曲库有限） |
| **弹幕系统** | 网易云/B站风格弹幕 | 中 | 中 |
| **主题商店** | 用户自定义主题分享 | 中 | 低 |
| **插件系统** | 允许社区扩展功能 | 高 | 中 |

---

## 4. 发展路线图

### v0.7 — 社交基础（近期，预估 2-3 周）

| 功能 | 工作量 | 说明 |
|------|--------|------|
| 实时聊天 | 2-3天 | WebSocket 加 `chat` 消息类型，前端聊天面板 |
| 表情反应 | 1天 | 对当前播放歌曲发送 emoji 反应，浮动动画 |
| API安全修复（P0） | 2-3天 | 路径遍历、登录限流、播放列表越权、Cookie Secure |
| 320kbps 音质选项 | 1天 | 转码管线加 320k 档位，前端音质切换 |
| FLAC 无损直传 | 1-2天 | 对已是 FLAC 的文件跳过转码，直接分段 |
| WebSocket 握手 JWT 验证 | 0.5天 | TODO.md #14 |
| 房间密码 | 0.5天 | 加入房间时验证密码 |

### v0.8 — 社交增强 + 体验升级（中期，预估 4-6 周）

| 功能 | 说明 |
|------|------|
| 共享队列 | 所有房间成员可添加歌曲到队列，房主可审核/排序 |
| 投票点歌 | 成员提交歌曲 → 投票 → 票数最高的下一首播放 |
| 逐字歌词（增强 LRC） | 支持 `[mm:ss.xx]<mm:ss.xx>word` 格式 |
| 歌词翻译显示 | 双语歌词并排/交替显示 |
| 均衡器 | Web Audio API BiquadFilterNode，预设 + 自定义 |
| 公开房间列表 | 房间大厅，显示在线人数、当前播放、房间标签 |
| 用户资料 | 头像上传、昵称、个人简介 |
| PWA 支持 | manifest.json + Service Worker，可安装到桌面/手机 |
| 音频可视化 | AnalyserNode 频谱/波形动画（可选开关） |

### v1.0 — 平台化（长期愿景）

| 功能 | 说明 |
|------|------|
| DJ 轮播模式 | 多人轮流当 DJ，类 Turntable.fm |
| 弹幕系统 | 实时弹幕叠加在播放器上 |
| 跨设备控制 | 手机扫码控制桌面播放（类 Spotify Connect） |
| 插件系统 | 定义插件 API，社区可开发扩展 |
| 主题系统 | CSS 变量 + 主题包，用户可创建和分享 |
| 桌面客户端 | Electron/Tauri 打包，系统托盘 + 全局快捷键 |
| 移动端 App | React Native 或 Flutter（如果 Web PWA 不够用） |
| 简单推荐 | 基于房间播放历史的"猜你喜欢" |
| 多语言 | i18n 支持，至少中英文 |

---

## 5. 技术架构建议

### 近期（v0.7）— 不需要大改

当前架构（Go 单体 + WebSocket + ffmpeg）完全够用。聊天和表情反应只是 WebSocket 消息类型的扩展，不需要引入新组件。

建议：
- 聊天消息存内存即可（房间销毁即丢弃），不需要持久化
- 表情反应用广播，不存储
- 安全修复是纯代码层面的改动

### 中期（v0.8）— 适度扩展

| 建议 | 理由 |
|------|------|
| **引入 SQLite** | 用户资料、公开房间列表需要持久化查询，当前文件存储不够用。SQLite 零依赖，适合自托管场景 |
| **消息队列：不需要** | 当前规模（单机部署）用 Go channel 足够，引入 Redis/NATS 是过度设计 |
| **PWA manifest + SW** | 零成本提升移动端体验，比开发原生 App 划算 100 倍 |
| **前端状态管理** | 如果聊天+投票+队列让前端状态变复杂，考虑引入轻量状态管理（Zustand 或 Pinia，取决于当前框架） |

### 长期（v1.0）— 按需演进

| 建议 | 理由 |
|------|------|
| **考虑 Redis** | 如果需要多实例部署（水平扩展），用 Redis Pub/Sub 做跨实例消息同步 |
| **WebRTC 数据通道** | 如果要做语音聊天或 P2P 音频传输，WebRTC 是必经之路 |
| **CDN 加速** | 音频段文件可以放 CDN/R2，减轻源站带宽压力 |
| **移动端：PWA 优先** | 除非 PWA 有明确不能满足的需求（如后台播放），否则不要做原生 App。维护成本差 10 倍 |
| **插件系统：谨慎** | 定义好 API 边界再做，过早引入会限制核心架构演进 |
| **不要做推荐算法** | 自托管场景曲库有限，简单的"最近播放"和"房间热门"就够了，不值得投入 ML |

### 架构原则

1. **保持单二进制部署** — 这是对比商业平台的核心优势，不要为了架构"先进"而引入 Docker Compose 多容器
2. **WebSocket 优先** — 已有的 WebSocket 基础设施是最大资产，所有实时功能都应该复用它
3. **渐进增强** — 每个新功能都应该是可选的，不影响核心同步体验
4. **前端轻量** — 不要引入重型框架，当前的方案（假设是 Vanilla JS 或轻量框架）加载快、部署简单

---

## 总结

ListenTogether 的核心竞争力是**精确同步 + 开源自托管 + 无版权限制**，这三点是所有商业平台无法复制的。

最大的短板是**社交功能缺失**——同步听歌的本质是社交行为，没有聊天和互动，体验是不完整的。v0.7 的首要任务就是补齐这块。

不要试图追赶 Spotify/网易云的全功能，而是在**同步听歌**这个垂直场景做到极致：精确同步 + 丰富互动 + 零门槛部署。这就是我们的定位。
